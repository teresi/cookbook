% The Teresi family cookbook
%
% Collection of favorites from family / friends / the interwebz
%
% Design:
% - targets a book with a 6x9" trim
% - uses outer marginnotes and single column
%   (worked out better than both inner/outer notes for 6x9)
%   (worked out better than twocolumn for 6x9)
% - provides environments for formatting
% - targets a recipe format of:
%   abstract, ingredients (1 | 2 col), steps, variations
% - images not included in this git repository for space
%
% Future recipes:
% [x] drink, caiparinha
% [ ] barbeque rubs
% [ ] breakfast casserole / Christmas
% [ ] pizza
% [ ] kuchen
% [ ] Jane's grilled cheese (w/ whole grain mustard)
% [ ] quick kuchen
% [ ] grebel
% [ ] runzas
% [ ] yeast pancakes? (overnight)
% [ ] japanese pancakes
% [ ] Bob's rice crispies
% [ ] southern style mac and cheese
% [ ] canonical southern style collards
% [ ] drink, mummy juice
% [ ] drink, limeaide & scotch for wedding signature drink
% [ ] Muddie Buddies/ Trash
% [ ] coquito
% [ ] beer bread
% [ ] Hawaiian banana bread
% [ ] poblano / jack tacos

% Future:
% [ ] add version or has to an info page (in preface?)
% [ ] add support for vertical spacing to \ragmarpar (e.g \marginnote[horz]{text}[vert]
% [ ] add an 'original recipe' source to icons (\faBook)
%     (move vegetarian back to margin? make source / original-source same column
% [ ] add section in back to explain units (tsp, etc.)
% [ ] add command for in-text reference to standardize (e.g. <section> <title> <page>)
% [ ] add section in preface on abbreviations used (e.g. Tbs/tsp, min/hr...)
% [ ] add temperature command w/ compile time switch between Fahrenheit / Centigrade
% [x] add aliases for Tablespoon, teaspon, fluid oz, minutes etc
% [x] add keywords / index
% [x] add 'contents at a glance' (1 level) before contents
% [ ] add a new package and move environments there?
% [ ] add a compile time toggle for adding images
% [ ] add a matrix of images for multiple recipes
% [ ] add tessalation for page backround artwork
%   (SEE http://tex.my/creating-tiled-background-patterns/)
% [ ] add a flag for changing justification on the margin paragraphs (e.g. use justify, use ragged)
% [x] add an alias for common measurements? e.g to replace \nicefrac{1}{4} etc.?
% [ ] update `recipeabstract` to just `abstract`
% [ ] don't use clearpage after chapter, or, add something to the cleared page?
%     the clearpages use a lot of space but the recipes get split less?
% [ ] add command to standardize order of ref w/ number, e.g. <section no.> <section title>
% [ ] replace minitoc w/ title https://tex.stackexchange.com/questions/65412/minitoc-with-two-column-content
% [ ] get `webomints` symbols working
% [x] add a vegan / vegetarian marking (\faLeaf ?) on the recipe name? or in the stats?
% [x] update minutes / min to use commands, standardize to abbreviation? (min / hr)
%     this will be good to reduce column size in recipe stats entries
% [x] add fan time / vegan to recitpe stats (optionall)
%     prep   electric  fan
%     yield  source    vegan / veg
% [ ] standardize spacing on NxYxZ etc, see makecookbook


% Bugs:
% [ ] experiments / variation environment names inconsistent b/c former is plural latter is singular
% [ ] there may be a line skip on the ingredient tables (on top) when using multicols (sort of addressed by adding small spaces if using one col?)
% [ ] marginnote used the wrong side of the page, possibly after the preface was added? had to use marginpar (maybe don't bother with a larger format 2 column, the 6x9" works pretty well and the auto column break in the ingredients appears to be a difficult issue to solve)
% [x] in xcookybooky couldn't use \cite[]{} (vs \cite{}) inside a recipe block? :  \begin{recipe}[source=\cite[]{}]{} (solved by replacing xcookybooky w/ custom commands)
% [ ] titlesec / nobottomtitles moves the variation/experiments (paragaphs) to the next page too much (can we make it not apply to paragraphs?)


\documentclass{./family_cookbook}

\hypersetup{%
	pdfauthor            = {Michael Teresi},
	pdftitle             = {Teresi Family Cookbook},
	pdfsubject           = {Recipes},
	pdfkeywords          = {recipes, recipe, cookbook, Teresi},
	pdfstartview         = {FitV},
	pdfview              = {FitH},
	pdfpagemode          = {UseNone}, % Options; UseNone, UseOutlines
	bookmarksopen        = {true},
	pdfpagetransition    = {Glitter},
	colorlinks           = {true},
	linkcolor            = {magenta},
	urlcolor             = {blue},
	citecolor            = {cyan},
	filecolor            = {black},
}

% FUTURE move to env variable?
\graphicspath{}  % use out of source path

%\pdfcompresslevel=0
%\pdfminorversion=5
%\pdfobjcompresslevel=2


\begin{document}

\frontmatter
\begin{titlepage}
\onecolumn
\pagestyle{empty}
%% temporary titles
% command to provide stretchy vertical space in proportion
\newcommand\nbvspace[1][3]{\vspace*{\stretch{#1}}}
% allow some slack to avoid under/overfull boxes
\newcommand\nbstretchyspace{\spaceskip0.5em plus 0.25em minus 0.25em}
% To improve spacing on titlepages
\newcommand{\nbtitlestretch}{\spaceskip0.6em}
{
	\centering
	\bfseries
	\nbvspace[1]
	\Huge
	{\nbtitlestretch
		TERESI FAMILY COOKERY
	}\\
	\nbvspace[1]
	\footnotesize
	AN ONGOING COLLECTION OF FAVORITES FROM AROUND THE GLOBE\\
	\nbvspace[1]
	\Large MICHAEL TERESI \\ \small \& COMPANY\\
	\nbvspace[1]
	\hspace{1em}  % FUTURE a more legit way of lining it up?
	\IfFileExists{../cookbook_img/stein2.png}{\includegraphics[width=0.33\textwidth]{../cookbook_img/stein2}}{}
	\vfill
}
\end{titlepage}

\dominitoc  % enable mini table of contents
\nomtcrule  % disable horizontal rule lines in minitoc

\tableofcontents


\chapter*{Preface}
\enlargethispage{5\baselineskip}  % help the recipe snippet get onto one page
\addcontentsline{toc}{chapter}{Preface}
\input{preface}
\input{recipe_snippet}
\clearpage

\mainmatter

\setcounter{mtc}{0}  % minitoc, reset to first chapter
\mtcaddchapter       % minitoc, required at first chapter
\chapter{Breakfast}
\minitoc
\clearpage
\input{./entrees/spinach_quiche}
\input{./breakfasts/overnight_oats}
\input{./breakfasts/egg_muffins}

\chapter{Sous vide}
\minitoc
\clearpage
\input{./breakfasts/egg_bites}
\input{./sous_vide/ribeye}
\input{./sous_vide/shrimp}

\chapter{Soup}
\minitoc
\clearpage
\input{./soups/gumbo_thanksgiving}
\input{./soups/cajun_crabmeat_bisque}
\input{./soups/hearty_italian_sausage}
\input{./soups/liquid_lasagna}

\chapter{Sides}
\minitoc
\clearpage
\input{./vegetables/collards_thanksgiving}
\input{./sides/mac_and_cheese}

\chapter{Drinks}
\minitoc
\clearpage
\input{./drinks/cococo_co_cococo}
\input{./drinks/caipirinha}
\section{Margarita}
{
	\let\section\subsection
	\let\subsection\subsubsection
	\input{./drinks/margarita}
	\input{./drinks/margarita_joy_of_cooking}
}
\input{./drinks/flamingo}
\input{./drinks/hemingway_daiquiri}
\input{./drinks/tom_collins}

\chapter{Beverages}
\minitoc
\clearpage
\input{./beverages/frozen_limeade}

\chapter{Entr\`{e}es}
\minitoc
\clearpage
\input{./entrees/mexican_beef_bowl}
\input{./entrees/fettuccine_alfredo}
\input{./entrees/rib_roast_christmas}
\input{./entrees/chili_colorado}
\input{./entrees/chili_schwarz}
\input{./entrees/steak_argintine}
\input{./entrees/lasagna}
\input{./entrees/pork_al_pastor}
\input{./entrees/honey_soy_chicken}

\chapter{Bread}
\minitoc
\clearpage
\input{./bread/focaccia}
\input{./bread/soft_pretzels}
\input{./bread/banana_bread}
% TODO biscuits from book Ratio

\chapter{Sandwiches}
\minitoc
\clearpage
\input{./sandwich/fantastic_frank.tex}
% TODO work sandwiches

\chapter{Bachelor Chow}
\minitoc
\clearpage
% TODO chickpea chorizo extravaganza
% TODO chicken soup
% TODO barley gruel
% TODO cabbage and keilbasa
\input{./bachelor_chow/curry_rice.tex}
\input{./entrees/hoola_poola}


\chapter{Crock Pot}
\minitoc
\clearpage
\input{./crockpot/beef_sandwiches.tex}


\chapter{Hot Sauce}
\minitoc
\clearpage
{
\input{./hot_sauce/base_lacto_brine}
	\section[Red Hot Sauce]{Fermented Red Hot Sauce}
	\let\section\subsection
	\let\subsection\subsubsection
	% use \input (not \include) to remove page breaks
	\input{./hot_sauce/red_03}
	\input{./hot_sauce/red_04}
}

\chapter{Marinades \& etc.}
\minitoc
\clearpage
\input{./marinades/achiote_paste}
\input{./marinades/al_pastor_marinade}
\input{./marinades/ham_honey_mustard}


\chapter{Pickles}
\minitoc
\clearpage
\input{./pickles/quick_pickles}
{
	\let\section\subsection
	\let\subsection\subsubsection
	\input{./pickles/quick_red_onion}
	\input{./pickles/quick_jalepenos}
	\input{./pickles/quick_radishes}
}

\chapter{Ice Cream}
\minitoc
\clearpage
\input{./icecream/chocolate_icecream_joc}

\chapter{Cookies, Cakes}
\minitoc
\clearpage
\input{./desserts/italian_tricolor}
\input{./desserts/SchwarzWeissGebacks}
\input{./desserts/peppermint_fudge}
\input{./desserts/seven_layer_brownies}
\input{./desserts/elegant_wine_cake}
\input{./desserts/midnight_cookies}
\input{./desserts/frankie_deluxe}
\input{./desserts/frankie_brownies}
\input{./desserts/chocolate_cake}
%\input{./desserts/almond_spekulatius}

\chapter{Pie}
\minitoc
\clearpage
\input{./desserts/basic_pie_pastry}
\input{./desserts/strawberry_rhubarb_pie}
\input{./desserts/lemon_meringue_pie}
\input{./desserts/chocolate_walnut_pie}

\clearpage
\addcontentsline{toc}{chapter}{References}
\printbibliography

\clearpage
\addcontentsline{toc}{chapter}{Index}
\printindex

\end{document}
