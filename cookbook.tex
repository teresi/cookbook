% family cookbook using 'xcookybooky'
% authors: Michael Teresi

\documentclass[]{article}

\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage{lmodern}
\usepackage[ngerman, english]{babel}
\usepackage{tikz} % for creating the lines for the hint
\usepackage{graphicx}
\usepackage{xcolor}
%\usepackage[clock, misc, weather]{ifsym} % Symbolpackage e.g. \Interval, \Wecker etc
\usepackage{cookingsymbols} % Cookings symbols e.g. \Oven, \Dish etc
\usepackage{wrapfig} % To wrap the tabular with the ingredients
\usepackage{ifthen}
\usepackage{xkeyval}
\usepackage{lettrine} % numbering the preparation steps
\usepackage{fancyhdr}
\usepackage{units}
\usepackage{eso-pic} % for background pictures
\usepackage{picture} % for modfifying the position of the bg pictures
\usepackage{tabularx} % line breaks in tabular
\usepackage{tikz}
\usepackage{nicefrac}
\usepackage{amssymb}
\usepackage{paralist}


\usepackage[toc]{multitoc}
\renewcommand*{\multicolumntoc}{2}
\setlength{\columnseprule}{0.5pt}

\frenchspacing

\usepackage[nowarnings]{xcookybooky}

\usepackage{blindtext}    % only needed for generating test text

\DeclareRobustCommand{\textcelcius}{\ensuremath{^{\circ}\mathrm{C}}}
\DeclareRobustCommand{\textfahrenheiht}{\ensuremath{^{\circ}\mathrm{C}}}

\setcounter{secnumdepth}{3}
\renewcommand*{\recipesection}[2][]
{%
    \subsection[#1]{#2}
}
\renewcommand{\subsectionmark}[1]
{% no implementation to display the section name instead
}

\usepackage{hyperref}    % must be the last package
\hypersetup{%
    pdfauthor            = {Michael Teresi},
    pdftitle             = {Teresi Family Cookbook},
    pdfsubject           = {Recipes},
    pdfkeywords          = {recipes, recipe, cookbook, Teresi},
    pdfstartview         = {FitV},
    pdfview              = {FitH},
    pdfpagemode          = {UseNone}, % Options; UseNone, UseOutlines
    bookmarksopen        = {true},
    pdfpagetransition    = {Glitter},
    colorlinks           = {true},
    linkcolor            = {magenta},
    urlcolor             = {blue},
    citecolor            = {cyan},
    filecolor            = {black},
}

\hbadness=10000	% Ignore underfull boxes

\graphicspath{
	{./desserts/img/}
	{./breakfasts/img/}
	{./img/}
}

\usepackage[backend=bibtex]{biblatex}
\bibliography{bib}


\begin{document}



\clearpage
%% temporary titles
% command to provide stretchy vertical space in proportion
\newcommand\nbvspace[1][3]{\vspace*{\stretch{#1}}}
% allow some slack to avoid under/overfull boxes
\newcommand\nbstretchyspace{\spaceskip0.5em plus 0.25em minus 0.25em}
% To improve spacing on titlepages
\newcommand{\nbtitlestretch}{\spaceskip0.6em}
\pagestyle{empty}
{
	\centering
	\bfseries
	\nbvspace[1]
	\Huge
	{\nbtitlestretch
		TERESI FAMILY COOKERY\\
	}
	\nbvspace[1]
	\Large
	AN ONGOING COLLECTION OF FAVORITES\\ AROUND THE GLOBE\\
	\nbvspace[2]
	\small BY\\ \nbvspace[0.1]
	\Large MICHAEL TERESI \\ \Large \& COMPANY\\
	\nbvspace[3]
	\hspace{1em}  % FUTURE a more legit way of lining it up?
	\IfFileExists{../cookbook_img/stein2.png}{\includegraphics[width=1.75in]{../cookbook_img/stein2}}{}
	\nbvspace[2]
	\vfill
}
\clearpage




%\title{Teresi Family Cookbook}
%\author{Michael Teresi}
%\maketitle


\tableofcontents

% FEATURE make macro or find package to auto-crop an roi to make a full page image w/o a border
%	probably use `adjustbox` package
% FEATURE make collage (matrix) of different recipes, make the images links
% FEATURE redifine the ingredients so it can be a 3 column table with the middle as the unit

% TODO standardize Tablespoon --> Tbs, teaspoon --> tps
% TODO standardize minutes / min --> minutes
% TODO collage of images
% TODO add page number on top of image
% TODO add a sub header to the recipe title (e.g. a commit msg)
% NOTE consider using bold font in key areas of the steps (e.g. the first sentence?)
% TODO fix reference/label between recipes, add recipe name to ref (SEE chili colorado)
% TODO add experimentation section, like the hints
% TODO consolidate images to top level folder `/img/` instead of per section?
% BUG  can't use \cite[]{} (vs \cite{}) inside a recipe block? :  \begin{recipe}[source=\cite[]{}]{}
% BUG using \refname from a label placed in the title of another recipe produces an in text ref to the right spot but the title in the ref is the next recipe title?
% TODO can't add hints w/o a large space (\input on a recipe w/ hints doesn't layout well b/c the next recipe gets squashed)

\clearpage
\section{Breakfast}
\include{./breakfasts/egg_bites}
%\include{./scripts/recipe_snippet}

\clearpage
\section{Soup}
\include{./soups/gumbo_thanksgiving}
\include{./soups/cajun_crabmeat_bisque}

\clearpage
\section{Sides}
\include{./vegetables/collards_thanksgiving}

\clearpage
\section{Entr\`{e}es}
\include{./entrees/mexican_beef_bowl}
\include{./entrees/fettuccine_alfredo}
\include{./entrees/rib_roast_christmas}
\include{./entrees/chili_colorado}
\include{./entrees/chili_schwarz}

\clearpage
\section{Bread}
\include{./bread/focaccia}

\clearpage
\section{Hot Sauce}
{
\include{./hot_sauce/base_lacto_brine}
	\let\section\subsection
	\let\subsection\subsubsection
	\section{Fermented Red Hot Sauce}
	% use \input (not \include) to remove page breaks
	\input{./hot_sauce/red_three}
}

\clearpage
\section{Ice Cream}
{
\include{./icecream/chocolate_icecream_joc}
}

\clearpage
\section{Cookies, Cakes}

% background graphic
%\setBackgroundPicture[x, y=-2cm, width=\paperwidth-4cm, height, orientation = pagecenter]
%{pic/background}
\include{./desserts/ItalianTricolor}
\include{./desserts/SchwarzWeissGebacks}
\include{./desserts/peppermint_fudge}

\clearpage
\section{Pie}
\include{./desserts/basic_pie_pastry}
\include{./desserts/strawberry_rhubarb_pie}
\include{./desserts/lemon_meringue_pie}

\clearpage
\addcontentsline{toc}{section}{References}
\printbibliography

\end{document}
